<!DOCTYPE html>
<html lang="lt">
<head>
  <meta charset="utf-8">
  <title>Omniva žemėlapis</title>

  <!-- 1) jQuery (jei tavo „omniva-map“ biblioteka naudoja jQuery – dažniausiai taip) -->
  <script
    src="https://code.jquery.com/jquery-3.4.1.min.js"
    integrity="sha256-CSXorXvZcTkaGRr+6O9mM2aQ5YvZHQGiDYk0f8smHho="
    crossorigin="anonymous">
  </script>

  <!-- 2) Leaflet (jei naudoti plėtiniai piešia žemėlapį per Leaflet) -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css"
    integrity="sha512-xwE/HIwip07gPOZGz7PZQY+v0pT0zfr0WB88eE5ihHEA75TRGk8QbbH+DnF6H+gRl5xgFMoMVYCG48Rsae6kRQ=="
    crossorigin=""
  />
  <script
    src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js"
    integrity="sha512-QVqT+6JelFzVtYTphe6eMlzp/1CetJlPkbf2eTgaK7QOm78lWSdLTKtOgeiQXWXWZDDu+dG5iKfQvp1SVuVNQw=="
    crossorigin="">
  </script>

  <!-- 3) Tavo lokali „omniva-map“ CSS ir JS (turėk šiuos failus tame pačiame kataloge) -->
  <link rel="stylesheet" href="omniva-map.css">
  <script src="omniva-map.min.js" defer></script>

  <!-- 4) Pagrindinis CSS, kad #omniva-container užimtų visą langą (arba savo pasirinktą dydį) -->
  <style>
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
    }
    /* Jei nori, kad žemėlapis užimtų visą ekraną: */
    #omniva-container {
      width: 100%;
      height: 100vh;
    }

    /* Jeigu nori fiksuoto dydžio (pvz. 800×600), gali naudoti: */
    /*
    #omniva-container {
      width: 800px;
      height: 600px;
      margin: 0 auto;  /* centroje puslapio */
    }
    */
  </style>
</head>
<body>

  <!-- 5) Čia bus rodomas žemėlapis (nebe <input type="hidden">, o <div>) -->
  <div id="omniva-container"></div>

  <!-- 6) Inicijavimas – paleidžiame, kai visi skriptai pasikrovė -->
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      /* 
        Priklausomai nuo tavo omniva-map.js versijos, gali būti dvi
        pagrindinės inicializavimo formos:

        1) Jei biblioteka priklijuoja ant <div> per jQuery plugin’ą:
           $('#element').omniva({ ...options... });

        2) Jeigu tavo versija turi globalų objektą, pvz. omnivaMap.init({...});
      */

      // 1. Patikriname, ar yra jQuery plugin’as $.fn.omniva
      if (window.jQuery && typeof $.fn.omniva === "function") {
        // Pavyzdys, kaip inicijuoti per jQuery. 
        // Jeigu tavo versija pati ima duomenis iš Omniva API,
        // defaults’e gali ir nebereikėti paduoti 'terminals'.
        $("#omniva-container").omniva({
          // Jei tavo versija reikalauja kelio iki nuotraukėlių (piktogramų):
          // path_to_img: "images/omniva/",

          // Jeigu reikia paduoti ranka surinktus paštomatų duomenis, 
          // tai jie atrodo kaip masyvas masyvų: 
          // terminals: [
          //   ["Pavadinimas", "55.12345", "23.54321", "12345", "Miestas", "Gatvė 1, Miestas", "Aprašymas"],
          //   // … daugiau …
          // ]
          //
          // Kadangi tavo tikslas – automatinis atnaujinimas iš Omniva,
          // turbūt šitos vietos neeisi. Jei tavo versija ėjimo tvarka
          // paima terminalus per AJAX iš Omnivos serverio – viršutinis tuščias
          // objektas tiks.
        });
        return;
      }

      // 2. Patikriname, ar egzistuoja globalus objektas omnivaMap
      if (typeof omnivaMap !== "undefined" && typeof omnivaMap.init === "function") {
        omnivaMap.init({
          container: "omniva-container"
          // Jeigu bibliotekos API reikalauja kitų parametrų
          // (pvz. zoom, center, path_to_img ir pan.), juos čia paduok:
          // zoom: 12,
          // center: [54.6872, 25.2797],
          // path_to_img: "images/omniva/"
        });
        return;
      }

      console.error("Įvyksta: nėra rasta nei $.fn.omniva, nei omnivaMap.init. Patikrink, ar omniva-map.min.js tikrai pasikrovė.");
    });
  </script>

</body>
</html>
